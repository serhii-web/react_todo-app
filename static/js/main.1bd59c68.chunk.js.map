{"version":3,"sources":["components/NewTodo/NewTodo.jsx","components/TodoFilter/TodoFilter.jsx","components/TodoList/TodoList.jsx","App.js","index.js"],"names":["NewTodo","addTodo","useState","todo","setTodo","onSubmit","e","preventDefault","trim","length","type","className","placeholder","value","onChange","target","TodoFilter","to","exact","activeClassName","TodoList","todos","setTodos","selectedId","setSelectedId","newTitle","setNewTitle","inputElement","useRef","pathname","useLocation","filterTodos","useMemo","filter","completed","useEffect","current","focus","id","areCompleted","every","changeTodosStatus","map","toggleStatusAll","checked","htmlFor","key","classnames","editing","onDoubleClick","title","todoId","findetTodo","find","prev","toggleStatus","onClick","filteredTodos","deleteTodo","ref","onBlur","todochangeTitle","todosWithTitle","updateList","handleBlur","onKeyDown","changeTitle","newList","handleKeyDown","App","todoInProgres","uuidv4","clearAllCompleted","ReactDOM","render","document","getElementById"],"mappings":"uTAGaA,EAAU,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACxB,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAYA,OACE,0BAAMC,SAXa,SAACC,GACpBA,EAAEC,iBAEEJ,EAAKK,OAAOC,QACdR,EAAQE,GAGVC,EAAQ,MAKN,2BACEM,KAAK,OACLC,UAAU,WACVC,YAAY,yBACZC,MAAOV,EACPW,SAAU,SAAAR,GAAC,OAAIF,EAAQE,EAAES,OAAOF,YCpB3BG,EAAa,kBACxB,wBAAIL,UAAU,WACZ,4BACE,kBAAC,IAAD,CACEM,GAAG,IACHC,OAAK,EACLC,gBAAgB,YAHlB,QASF,4BACE,kBAAC,IAAD,CACEF,GAAG,UACHE,gBAAgB,YAFlB,WAQF,4BACE,kBAAC,IAAD,CACEF,GAAG,aACHE,gBAAgB,YAFlB,gB,gCCpBOC,EAAW,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAChC,EAAoCpB,mBAAS,GAA7C,mBAAOqB,EAAP,KAAmBC,EAAnB,KACA,EAAgCtB,mBAAS,IAAzC,mBAAOuB,EAAP,KAAiBC,EAAjB,KACMC,EAAeC,iBAAO,MACpBC,EAAaC,cAAbD,SAEFE,EAAcC,mBAAQ,iBAAoB,MAAbH,EAC/BR,EAAMY,QAAO,SAAA9B,GAAI,MACJ,eAAb0B,EACI1B,EAAK+B,WACJ/B,EAAK+B,aACVb,IAAQ,CAACQ,EAAUR,IAEvBc,qBAAU,WACJR,EAAaS,SACfT,EAAaS,QAAQC,UAEtB,CAACd,IAkEJ,OACE,6BAASZ,UAAU,QACjB,2BACED,KAAK,WACL4B,GAAG,aACH3B,UAAU,aACVG,SAAU,kBAtEQ,WACtB,IAAMyB,EAAelB,EAAMmB,OAAM,SAAArC,GAAI,OAAIA,EAAK+B,aACxCO,EAAoBpB,EAAMqB,KAAI,SAAAvC,GAAI,kCACjCA,GADiC,IAC3B+B,WAAWK,IAAgBpC,EAAK+B,eAG7CZ,EAASmB,GAgEWE,IAChBC,QAASvB,EAAMmB,OAAM,SAAArC,GAAI,OAAIA,EAAK+B,cAAcb,EAAMZ,SAExD,2BAAOoC,QAAQ,cAAf,wBAEA,wBAAIlC,UAAU,aACXoB,EAAYW,KAAI,SAAAvC,GAAI,OACnB,wBACE2C,IAAK3C,EAAKmC,GACV3B,UACIoC,IAAW,CACTC,QAASzB,IAAepB,EAAKmC,GAC7BJ,UAAW/B,EAAK+B,YAGtBe,cAAe,SAAC3C,GACdkB,EAAcrB,EAAKmC,IACnBZ,EAAYvB,EAAK+C,SAGnB,yBAAKvC,UAAU,QACb,2BACED,KAAK,WACLC,UAAU,SACViC,QAASzC,EAAK+B,UACdpB,SAAU,kBAtFH,SAACqC,GACpB,IAAMC,EAAa/B,EAAMgC,MAAK,SAAAlD,GAAI,OAAIA,EAAKmC,KAAOa,KAClDC,EAAWlB,WAAakB,EAAWlB,UAEnCZ,GAAS,SAAAgC,GAAI,mBAAQA,MAkFOC,CAAapD,EAAKmC,OAEpC,+BAAQnC,EAAK+C,OACb,4BACExC,KAAK,SACLC,UAAU,UACV6C,QAAS,kBArFJ,SAACL,GAClB,IAAMM,EAAgBpC,EAAMY,QAAO,SAAA9B,GAAI,OAAIA,EAAKmC,KAAOa,KAEvD7B,EAASmC,GAkFkBC,CAAWvD,EAAKmC,QAGnC,2BACE5B,KAAK,OACLC,UAAU,OACVE,MAAOY,EACPkC,IAAKpC,IAAepB,EAAKmC,GAAKX,EAAe,KAC7Cb,SAAU,SAAAR,GAAC,OAAIoB,EAAYpB,EAAES,OAAOF,QACpC+C,OAAQ,kBAxFD,SAACtB,GAClB,IAAMuB,EAAkBxC,EAAMgC,MAAK,SAAAlD,GAAI,OAAIA,EAAKmC,KAAOA,KACjDwB,EAAiBzC,EAAMY,QAAO,SAAA9B,GAAI,OAAIA,EAAKmC,KAAOA,KAExDuB,EAAgBX,MAAQzB,EAASjB,OAEjC,IAAMuD,EAAatC,EAAShB,OAAT,YAAsBY,GAASyC,EAElDxC,EAASyC,GACTrC,EAAY,IACZF,EAAc,GA8EUwC,CAAW7D,EAAKmC,KAC9B2B,UAAW,SAAA3D,GAAC,OA5EF,SAACA,EAAG4C,EAAOC,GAC/B,IAAMe,EAAc7C,EAAMgC,MAAK,SAAAlD,GAAI,OAAIA,EAAKmC,KAAOa,KAC7CW,EAAiBzC,EAAMY,QAAO,SAAA9B,GAAI,OAAIA,EAAKmC,KAAOa,KAElDgB,EAAU1C,EAAShB,OAAT,YAAsBY,GAASyC,EAE/C,OAAQxD,EAAEwC,KACR,IAAK,QACHoB,EAAYhB,MAAQzB,EAASjB,OAE7Bc,EAAS6C,GACTzC,EAAYD,GACZD,EAAc,GAEd,MACF,IAAK,SAEHF,GAAS,SAAAgC,GAAI,mBAAQA,MACrB5B,EAAYwB,GACZ1B,EAAc,IAyDQ4C,CAAc9D,EAAGH,EAAK+C,MAAO/C,EAAKmC,cCxEjD+B,MAzDf,WACE,MAA0BnE,mBAAS,IAAnC,mBAAOmB,EAAP,KAAcC,EAAd,KAEMgD,EAAgBtC,mBAAQ,kBAC5BX,EAAMY,QAAO,SAAA9B,GAAI,OAAKA,EAAK+B,aAAWzB,SACrC,CAACY,IAeJ,OACE,6BAASV,UAAU,WACjB,4BAAQA,UAAU,UAChB,qCACA,kBAAC,EAAD,CAASV,QAjBC,SAACiD,GACf5B,EAAS,GAAD,mBACHD,GADG,CAEN,CAAEiB,GAAIiC,eAAUrB,QAAOhB,WAAW,UAiBlC,kBAAC,EAAD,CACEb,MAAOA,EACPC,SAAUA,IAGXD,EAAMZ,OAAS,GAChB,4BAAQE,UAAU,UAChB,0BAAMA,UAAU,cACb2D,EACA,IAFH,cAMA,kBAAC,EAAD,MAECjD,EAAMZ,SAAW6D,GAClB,4BACE5D,KAAK,SACLC,UAAU,kBACV6C,QAAS,kBAhCS,WACxB,IAAMC,EAAgBpC,EAAMY,QAAO,SAAA9B,GAAI,OAAKA,EAAK+B,aAEjDZ,EAASmC,GA6BYe,KAHjB,sBCvCRC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.1bd59c68.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport const NewTodo = ({ addTodo }) => {\n  const [todo, setTodo] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (todo.trim().length) {\n      addTodo(todo);\n    }\n\n    setTodo('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        className=\"new-todo\"\n        placeholder=\"What needs to be done?\"\n        value={todo}\n        onChange={e => setTodo(e.target.value)}\n      />\n    </form>\n  );\n};\n\nNewTodo.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const TodoFilter = () => (\n  <ul className=\"filters\">\n    <li>\n      <NavLink\n        to=\"/\"\n        exact\n        activeClassName=\"selected\"\n      >\n        All\n      </NavLink>\n    </li>\n\n    <li>\n      <NavLink\n        to=\"/active\"\n        activeClassName=\"selected\"\n      >\n        Active\n      </NavLink>\n    </li>\n\n    <li>\n      <NavLink\n        to=\"/completed\"\n        activeClassName=\"selected\"\n      >\n        Completed\n      </NavLink>\n    </li>\n  </ul>\n);\n","import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nexport const TodoList = ({ todos, setTodos }) => {\n  const [selectedId, setSelectedId] = useState(0);\n  const [newTitle, setNewTitle] = useState('');\n  const inputElement = useRef(null);\n  const { pathname } = useLocation();\n\n  const filterTodos = useMemo(() => (pathname !== '/'\n    ? todos.filter(todo => (\n      pathname === '/completed'\n        ? todo.completed\n        : !todo.completed))\n    : todos), [pathname, todos]);\n\n  useEffect(() => {\n    if (inputElement.current) {\n      inputElement.current.focus();\n    }\n  }, [selectedId]);\n\n  const toggleStatusAll = () => {\n    const areCompleted = todos.every(todo => todo.completed);\n    const changeTodosStatus = todos.map(todo => (\n      { ...todo, completed: areCompleted ? !todo.completed : true }\n    ));\n\n    setTodos(changeTodosStatus);\n  };\n\n  const toggleStatus = (todoId) => {\n    const findetTodo = todos.find(todo => todo.id === todoId);\n    findetTodo.completed = !findetTodo.completed;\n\n    setTodos(prev => [...prev]);\n  };\n\n  const deleteTodo = (todoId) => {\n    const filteredTodos = todos.filter(todo => todo.id !== todoId);\n\n    setTodos(filteredTodos);\n  };\n\n  const handleBlur = (id) => {\n    const todochangeTitle = todos.find(todo => todo.id === id);\n    const todosWithTitle = todos.filter(todo => todo.id !== id);\n\n    todochangeTitle.title = newTitle.trim();\n\n    const updateList = newTitle.length ? [...todos] : todosWithTitle\n\n    setTodos(updateList);\n    setNewTitle('');\n    setSelectedId(0);\n  };\n\n  const handleKeyDown = (e, title, todoId) => {\n    const changeTitle = todos.find(todo => todo.id === todoId);\n    const todosWithTitle = todos.filter(todo => todo.id !== todoId);\n\n    const newList = newTitle.length ? [...todos] : todosWithTitle\n\n    switch (e.key) {\n      case 'Enter':\n        changeTitle.title = newTitle.trim();\n\n        setTodos(newList);\n        setNewTitle(newTitle);\n        setSelectedId(0);\n\n        break;\n      case 'Escape':\n\n        setTodos(prev => [...prev]);\n        setNewTitle(title);\n        setSelectedId(0);\n\n        break;\n\n      default:\n\n        break;\n    }\n  };\n\n  return (\n    <section className=\"main\">\n      <input\n        type=\"checkbox\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        onChange={() => toggleStatusAll()}\n        checked={todos.every(todo => todo.completed) && todos.length}\n      />\n      <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n      <ul className=\"todo-list\">\n        {filterTodos.map(todo => (\n          <li\n            key={todo.id}\n            className={\n                classnames({\n                  editing: selectedId === todo.id,\n                  completed: todo.completed,\n                })\n              }\n            onDoubleClick={(e) => {\n              setSelectedId(todo.id);\n              setNewTitle(todo.title);\n            }}\n          >\n            <div className=\"view\">\n              <input\n                type=\"checkbox\"\n                className=\"toggle\"\n                checked={todo.completed}\n                onChange={() => toggleStatus(todo.id)}\n              />\n              <label>{todo.title}</label>\n              <button\n                type=\"button\"\n                className=\"destroy\"\n                onClick={() => deleteTodo(todo.id)}\n              />\n            </div>\n            <input\n              type=\"text\"\n              className=\"edit\"\n              value={newTitle}\n              ref={selectedId === todo.id ? inputElement : null}\n              onChange={e => setNewTitle(e.target.value)}\n              onBlur={() => handleBlur(todo.id)}\n              onKeyDown={e => handleKeyDown(e, todo.title, todo.id)}\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nTodoList.propTypes = {\n  setTodos: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React, { useState, useMemo } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { NewTodo } from './components/NewTodo';\nimport { TodoFilter } from './components/TodoFilter';\nimport { TodoList } from './components/TodoList';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n\n  const todoInProgres = useMemo(() => (\n    todos.filter(todo => !todo.completed).length\n  ), [todos]);\n\n  const addTodo = (title) => {\n    setTodos([\n      ...todos,\n      { id: uuidv4(), title, completed: false },\n    ]);\n  };\n\n  const clearAllCompleted = () => {\n    const filteredTodos = todos.filter(todo => !todo.completed);\n\n    setTodos(filteredTodos);\n  };\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n        <NewTodo addTodo={addTodo} />\n      </header>\n\n      <TodoList\n        todos={todos}\n        setTodos={setTodos}\n      />\n\n      {todos.length > 0 && (\n      <footer className=\"footer\">\n        <span className=\"todo-count\">\n          {todoInProgres}\n          {' '}\n          items left\n        </span>\n\n        <TodoFilter />\n\n        {todos.length !== todoInProgres && (\n        <button\n          type=\"button\"\n          className=\"clear-completed\"\n          onClick={() => clearAllCompleted()}\n        >\n          Clear completed\n        </button>\n        )}\n      </footer>\n      )}\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}